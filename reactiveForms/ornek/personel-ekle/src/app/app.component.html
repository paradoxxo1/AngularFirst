<h1>Personel Ekleme - Reactive Forms</h1>

<!-- Ekleme Formu -->
<div *ngIf="!isUpdateFormActive">
  <form [formGroup]="addForm">
    <div>
      <label>Personel Adı</label><br />
      <input formControlName="name" type="text" />
    </div>

    <div>
      <label>Bölümü</label><br />
      <select formControlName="profession">
        <option value="" disabled selected>Bir bölüm seçiniz</option>
        <option>Muhasebe</option>
        <option>Finans</option>
        <option>Yazılım</option>
      </select>
    </div>

    <div>
      <label>İşe Giriş Tarihi</label><br />
      <input formControlName="startingDate" type="date" />
    </div>

    <div>
      <button type="button" [disabled]="!addForm.valid" (click)="save()">Kaydet</button>
    </div>
  </form>
</div>

<!-- Güncelleme Formu -->
<div *ngIf="isUpdateFormActive">
  <form [formGroup]="updateForm">
    <div>
      <label>Personel Adı</label><br />
      <input formControlName="name" type="text" />
    </div>

    <div>
      <label>Bölümü</label><br />
      <select formControlName="profession">
        <option value="" disabled selected>Bir bölüm seçiniz</option>
        <option>Muhasebe</option>
        <option>Finans</option>
        <option>Yazılım</option>
      </select>
    </div>

    <div>
      <label>İşe Giriş Tarihi</label><br />
      <input formControlName="startingDate" type="date" />
    </div>

    <div>
      <button type="button" [disabled]="!updateForm.valid" (click)="update()">Güncelle</button>
      <button type="button" (click)="cancel()">Vazgeç</button>
    </div>
  </form>
</div>

<hr />

<!-- Personel Listesi -->
<table border="1" cellspacing="0" cellpadding="8">
  <thead>
    <tr>
      <th>#</th>
      <th>Personel Adı</th>
      <th>Bölümü</th>
      <th>İşe Giriş Tarihi</th>
      <th>İşlemler</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let e of employees; let i = index">
      <td>{{ i + 1 }}</td>
      <td>{{ e.name }}</td>
      <td>{{ e.profession }}</td>
      <td>{{ e.startingDate | date: 'dd.MM.yyyy' }}</td>
      <td>
        <button type="button" (click)="get(e, i)">Güncelle</button>
      </td>
    </tr>
  </tbody>
</table>
